#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

echo "🔐 Secret scan (pre-commit)"

if command -v gitleaks >/dev/null 2>&1; then
  echo "→ Using gitleaks binary"
  gitleaks detect --staged --verbose --redact || exit 1
else
  echo "→ gitleaks not found; using fallback staged scanner"
  ./scripts/check-secrets.sh || exit 1
fi
#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Run staged linters/formatters only on changed files
npx --no-install lint-staged
