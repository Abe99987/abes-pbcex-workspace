
> vite_react_shadcn_ts@0.0.0 predev:all
> npm run env:doctor


> vite_react_shadcn_ts@0.0.0 env:doctor
> ts-node --esm scripts/envDoctor.ts

(node:95447) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
(Use `node --trace-deprecation ...` to show where the warning was created)

ü©∫ PBCEx Environment Doctor

Validating configuration for reliable startup...

üîß Backend Environment Variables
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üìÇ Core
   Essential application settings
   ‚úÖ NODE_ENV = development
   ‚úÖ PORT = 4000
   ‚úÖ DATABASE_URL = postgres://postgres:postgres@localhost:5432/pbcex
   ‚úÖ REDIS_URL = redis://localhost:6379

üìÇ Auth/Security
   Authentication and security configuration
   ‚úÖ JWT_SECRET = repl****************************ring
   ‚úÖ SESSION_SECRET = repl****************************ring
   ‚úÖ ENCRYPTION_KEY = repl*******************_key

üìÇ Market
   Market data and pricing
   ‚ö†Ô∏è  TRADINGVIEW_API_KEY (optional, not set)

üìÇ KYC/Custody
   Identity verification and asset custody
   ‚ö†Ô∏è  PLAID_CLIENT_ID (optional, not set)
   ‚ö†Ô∏è  PLAID_SECRET (optional, not set)
   ‚úÖ PLAID_ENV = sandbox
   ‚ö†Ô∏è  PAXOS_API_KEY (optional, not set)
   ‚ö†Ô∏è  PAXOS_API_SECRET (optional, not set)
   ‚ö†Ô∏è  PRIMETRUST_API_KEY (optional, not set)
   ‚ö†Ô∏è  PRIMETRUST_API_SECRET (optional, not set)
   ‚ö†Ô∏è  ANCHORAGE_API_KEY (optional, not set)

üìÇ Fulfillment/Logistics
   Physical asset fulfillment and shipping
   ‚ö†Ô∏è  JM_BULLION_API_KEY (optional, not set)
   ‚ö†Ô∏è  JM_BULLION_API_SECRET (optional, not set)
   ‚ö†Ô∏è  DILLON_GAGE_API_KEY (optional, not set)
   ‚ö†Ô∏è  DILLON_GAGE_API_SECRET (optional, not set)
   ‚ö†Ô∏è  FEDEX_CLIENT_ID (optional, not set)
   ‚ö†Ô∏è  FEDEX_CLIENT_SECRET (optional, not set)

üìÇ Payments
   Payment processing
   ‚ö†Ô∏è  STRIPE_SECRET_KEY (optional, not set)

üìÇ Messaging/Support/Monitoring
   Communication and monitoring services
   ‚ö†Ô∏è  SENDGRID_API_KEY (optional, not set)
   ‚ö†Ô∏è  TWILIO_ACCOUNT_SID (optional, not set)
   ‚ö†Ô∏è  TWILIO_AUTH_TOKEN (optional, not set)
   ‚ö†Ô∏è  INTERCOM_ACCESS_TOKEN (optional, not set)
   ‚ö†Ô∏è  DATADOG_API_KEY (optional, not set)
   ‚ö†Ô∏è  VANTA_API_KEY (optional, not set)

üìÇ Feature Flags
   Phase-3 and experimental features
   ‚úÖ PHASE = 1
   ‚úÖ ENABLE_ONCHAIN = false
   ‚úÖ ENABLE_VAULT_REDEMPTION = false
   ‚úÖ FULFILLMENT_STRATEGY = JM
   ‚ö†Ô∏è  EXPERIMENTS_JSON (optional, not set)

üåê Frontend Environment Variables
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üìÇ Frontend Core
   Essential frontend configuration
   ‚úÖ NEXT_PUBLIC_APP_NAME = PBCEx
   ‚úÖ NEXT_PUBLIC_API_BASE_URL = http://localhost:4000

üìÇ Frontend Features
   Frontend feature toggles
   ‚úÖ NEXT_PUBLIC_ENABLE_2FA = true
   ‚úÖ NEXT_PUBLIC_ENABLE_PHYSICAL_TRADING = true
   ‚úÖ NEXT_PUBLIC_ENABLE_SYNTHETIC_TRADING = true
   ‚úÖ NEXT_PUBLIC_ENABLE_SHOP = true

üìÇ Frontend Integrations
   Third-party frontend integrations
   ‚ö†Ô∏è  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (optional, not set)
   ‚ö†Ô∏è  NEXT_PUBLIC_GOOGLE_MAPS_API_KEY (optional, not set)
   ‚ö†Ô∏è  NEXT_PUBLIC_GOOGLE_ANALYTICS_ID (optional, not set)
   ‚ö†Ô∏è  NEXT_PUBLIC_MIXPANEL_TOKEN (optional, not set)
   ‚ö†Ô∏è  NEXT_PUBLIC_INTERCOM_APP_ID (optional, not set)

üìä Environment Doctor Summary
==================================================
‚úÖ DIAGNOSIS: HEALTHY
   All critical environment variables are properly configured.

üìà Configuration Statistics:
   ‚úÖ Configured: 18/45 (40%)
   ‚ö†Ô∏è  Missing Optional: 27

üö® Critical Issues:
   ‚Ä¢ ENCRYPTION_KEY: ENCRYPTION_KEY must be at least 32 characters

‚ö†Ô∏è  27 optional integrations not configured (non-critical)

üí° Recommendations:
   ‚Ä¢ Configure optional integrations as needed for full functionality

üìÅ Configuration Files:
   ‚Ä¢ Root: .env
   ‚Ä¢ Backend: backend/.env
   ‚Ä¢ Frontend: frontend/.env.local


> vite_react_shadcn_ts@0.0.0 dev:all
> ./scripts/dev.sh


[0;34müöÄ PBCEx Development Environment[0m
[0;34m=================================[0m

[0;34m‚ÑπÔ∏è  Step 1/5: Setting up environment configuration...[0m

> vite_react_shadcn_ts@0.0.0 setup:env
> ts-node --esm scripts/bootstrap-env.ts

(node:95488) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
(Use `node --trace-deprecation ...` to show where the warning was created)

üöÄ PBCEx Environment Bootstrap

Setting up development environment configuration...

üìÑ Copying Template Files
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚ÑπÔ∏è  Backend Environment already exists ‚Üí backend/.env
   ‚ÑπÔ∏è  Frontend Environment already exists ‚Üí frontend/.env.local

üîß Backend Environment Configuration
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚ÑπÔ∏è  JWT_SECRET already configured
   ‚ÑπÔ∏è  SESSION_SECRET already configured
   ‚ÑπÔ∏è  ENCRYPTION_KEY already configured
   ‚ÑπÔ∏è  NODE_ENV already set = development
   ‚úÖ Set PORT = 4001
   ‚ÑπÔ∏è  DATABASE_URL already set = postgres://postgres:postgres@localhost:5432/pbc...
   ‚ÑπÔ∏è  REDIS_URL already set = redis://localhost:6379
   ‚ÑπÔ∏è  PLAID_ENV already set = sandbox

   üìù Backend environment updated

üåê Frontend Environment Configuration
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚úÖ Set NEXT_PUBLIC_APP_NAME = PBCEx
   ‚ÑπÔ∏è  NEXT_PUBLIC_API_BASE_URL already set = http://localhost:4001
   ‚ÑπÔ∏è  NODE_ENV already set = development

   üìù Frontend environment updated

üìä Bootstrap Summary
==================================================
‚úÖ Bootstrap completed successfully
üìù Actions performed (2):
   1. Set PORT to 4001
   2. Set frontend NEXT_PUBLIC_APP_NAME

üìÅ Configuration Files
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Backend: backend/.env
   Frontend: frontend/.env.local

üöÄ Next Steps
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
1. Validate configuration: npm run env:doctor
2. Validate strictly: npm run env:doctor:strict
3. Start development: npm run dev:all

[0;32m‚úÖ Environment configuration setup complete[0m
[0;34m‚ÑπÔ∏è  Step 2/5: Running preflight checks...[0m

> vite_react_shadcn_ts@0.0.0 preflight
> ts-node --esm scripts/preflight.ts

(node:95510) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
(Use `node --trace-deprecation ...` to show where the warning was created)

‚úàÔ∏è  PBCEx Preflight Checker

Running pre-startup validation checks...

üîß Environment Configuration
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚úÖ Environment configuration valid

üêò PostgreSQL Connection
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚ÑπÔ∏è  Testing connection to localhost:5432/pbcex
   ‚úÖ PostgreSQL connection successful

üî¥ Redis Connection
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚ÑπÔ∏è  Testing connection to localhost:6379/0
   ‚úÖ Redis connection successful

üìä Preflight Summary
===================================
‚úÖ ALL SYSTEMS GO
   3 checks passed

üìã Check Results
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úÖ Environment Configuration
   All required variables configured
‚úÖ PostgreSQL Connection
   Connected to localhost:5432/pbcex
‚úÖ Redis Connection
   Connected to localhost:6379/0

üöÄ Next Steps
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚Ä¢ All preflight checks passed
‚Ä¢ Ready to start development servers
  npm run dev:all

[0;32m‚úÖ All preflight checks passed[0m
[0;34m‚ÑπÔ∏è  Step 3/5: Checking Docker availability...[0m
[0;32m‚úÖ Docker is available and running[0m
[0;34m‚ÑπÔ∏è  Step 4/5: Starting infrastructure services...[0m
[0;34m‚ÑπÔ∏è  Starting Docker Compose services in detached mode...[0m
 Container pbcex-maildev  Running
 Container pbcex-redis  Running
 Container pbcex-postgres  Running
[0;32m‚úÖ Infrastructure services started[0m
[0;34m‚ÑπÔ∏è  Waiting for services to initialize...[0m
[0;34m‚ÑπÔ∏è  Step 5/5: Starting development servers...[0m
[0;34m‚ÑπÔ∏è  Starting backend and frontend development servers...[0m
[0;34m‚ÑπÔ∏è  Press Ctrl+C to stop all services[0m
[frontend] 
[frontend] up to date, audited 513 packages in 479ms
[frontend] 
[frontend] 159 packages are looking for funding
[frontend]   run `npm fund` for details
[frontend] 
[frontend] found 0 vulnerabilities
[frontend] 
[frontend] > @pbcex/frontend@1.0.0 dev
[frontend] > next dev
[frontend] 
[backend] 
[backend] up to date, audited 923 packages in 673ms
[backend] 
[backend] 114 packages are looking for funding
[backend]   run `npm fund` for details
[backend] 
[backend] 18 vulnerabilities (3 low, 3 moderate, 2 high, 10 critical)
[backend] 
[backend] To address all issues (including breaking changes), run:
[backend]   npm audit fix --force
[backend] 
[backend] Run `npm audit` for details.
[backend] 
[backend] > @pbcex/backend@1.0.0 dev
[backend] > ts-node-dev --respawn --transpile-only -r tsconfig-paths/register src/server.ts
[backend] 
[frontend]   ‚ñ≤ Next.js 14.2.32
[frontend]   - Local:        http://localhost:3000
[frontend]   - Environments: .env.local
[frontend]   - Experiments (use with caution):
[frontend]     ¬∑ typedRoutes
[frontend] 
[frontend]  ‚úì Starting...
[backend] [INFO] 10:35:18 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.9.2)
[backend] üîß Integration Status:
[backend]   ‚úÖ Configured: none
[backend]   üîß Missing integrations: SUPPRESSED (vendor placeholders enabled)
[backend]   üìù Note: Using mock implementations for development
[backend] üöÄ Phase-3 Features:
[backend]   üìä Phase: 1
[backend]   ‚õìÔ∏è  Onchain: DISABLED
[backend]   üèõÔ∏è  Vault Redemption: DISABLED
[backend]   üì¶ Fulfillment: JM
[backend]   üõ†Ô∏è  Development Mode: Vendor placeholders enabled
[backend] 10:35:18 [32minfo[39m: [32mDatabase pool initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mAPI documentation available at /api/docs[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing PBCEx services...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing NotificationService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mLocal SMTP email service initialized (MailDev)[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [33mwarn[39m: [33mTwilio not configured, SMS will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [33mwarn[39m: [33mIntercom not configured, support tickets will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mNotificationService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ NotificationService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing EmailService with Resend[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [33mwarn[39m: [33mResend not configured, email will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mEmailService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ EmailService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing VerifyService with Twilio Verify[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [33mwarn[39m: [33mTwilio Verify not fully configured, verification will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mVerifyService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ VerifyService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing FedexService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [33mwarn[39m: [33mFedEx not fully configured, service will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mFedexService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ FedexService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing PricesService with CoinGecko[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mCoinGecko API request[39m {"service":"pbcex-api","version":"1.0.0","url":"/ping","correlationId":"4178pfj7x"}
[frontend]  ‚úì Ready in 1070ms
[backend] 10:35:19 [32minfo[39m: [32mCoinGecko API response[39m {"service":"pbcex-api","version":"1.0.0","status":200,"correlationId":"4178pfj7x","duration":138}
[backend] 10:35:19 [32minfo[39m: [32mCoinGecko API connectivity verified[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mPricesService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ PricesService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing CheckoutService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mCheckoutService depends on PricesService for base price data[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mCheckoutService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ CheckoutService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing PriceFeedService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mInitializing mock price data[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mMock prices initialized[39m {"service":"pbcex-api","version":"1.0.0","count":8}
[backend] 10:35:19 [33mwarn[39m: [33mTradingView not configured, using mock prices[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mStarting price update loop[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mPriceFeedService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32m‚úÖ PriceFeedService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32müéâ All services initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32müöÄ PBCEx API Server started[39m {"service":"pbcex-api","version":"1.0.0","port":4001,"environment":"development","nodeVersion":"v24.6.0","pid":95920,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:3002","http://localhost:3003","http://localhost:3004","http://localhost:3005","http://127.0.0.1:3000"]}
[backend] 10:35:19 [32minfo[39m: [32müìä Integration Status:[39m {"service":"pbcex-api","version":"1.0.0","database":true,"redis":true,"plaid":false,"stripe":false,"sendgrid":false,"twilio":false,"intercom":false,"tradingView":false,"datadog":false}
[backend] 10:35:19 [32minfo[39m: [32müí° 7 integrations need configuration for full functionality[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:35:19 [32minfo[39m: [32mServer is listening[39m {"service":"pbcex-api","version":"1.0.0","address":{"address":"::","family":"IPv6","port":4001}}
[backend] 10:35:45 [31merror[39m: [31mDatabase query failed: SELECT 1...[39m {"service":"pbcex-api","version":"1.0.0","error":{"message":"The server does not support SSL connections","stack":"Error: The server does not support SSL connections\n    at /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at DatabaseManager.query (/Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/db/index.ts:64:22)\n    at DatabaseManager.healthCheck (/Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/db/index.ts:128:7)\n    at async Promise.all (index 0)\n    at /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/server.ts:191:35","name":"Error"}}
[backend] 10:35:45 [32minfo[39m: [32mHTTP 301 HEAD /[39m {"service":"pbcex-api","version":"1.0.0","requestId":"g013odl8t","method":"HEAD","url":"/","statusCode":301,"duration":0,"userAgent":"curl/8.7.1","ip":"::1","contentLength":158}
[frontend]  ‚óã Compiling / ...
[frontend]  ‚®Ø ./src/hooks/useSupabaseAuth.ts:3:1
[frontend] Module not found: Can't resolve '@/utils/supabase/client'
[frontend] [0m [90m 1 |[39m [36mimport[39m { useEffect[33m,[39m useState } [36mfrom[39m [32m'react'[39m[33m;[39m[0m
[frontend] [0m [90m 2 |[39m [36mimport[39m { [33mUser[39m [36mas[39m [33mSupabaseUser[39m } [36mfrom[39m [32m'@supabase/supabase-js'[39m[33m;[39m[0m
[frontend] [0m[31m[1m>[22m[39m[90m 3 |[39m [36mimport[39m { createClient } [36mfrom[39m [32m'@/utils/supabase/client'[39m[33m;[39m[0m
[frontend] [0m [90m   |[39m [31m[1m^[22m[39m[0m
[frontend] [0m [90m 4 |[39m [36mimport[39m { [33mUser[39m } [36mfrom[39m [32m'@/utils/api'[39m[33m;[39m[0m
[frontend] [0m [90m 5 |[39m[0m
[frontend] [0m [90m 6 |[39m [90m/**[39m[0m
[frontend] 
[frontend] https://nextjs.org/docs/messages/module-not-found
[frontend] 
[frontend] Import trace for requested module:
[frontend] ./hooks/useAuth.tsx
[frontend] ./pages/_app.tsx
[frontend]  ‚®Ø ./src/hooks/useSupabaseAuth.ts:3:1
[frontend] Module not found: Can't resolve '@/utils/supabase/client'
[frontend] [0m [90m 1 |[39m [36mimport[39m { useEffect[33m,[39m useState } [36mfrom[39m [32m'react'[39m[33m;[39m[0m
[frontend] [0m [90m 2 |[39m [36mimport[39m { [33mUser[39m [36mas[39m [33mSupabaseUser[39m } [36mfrom[39m [32m'@supabase/supabase-js'[39m[33m;[39m[0m
[frontend] [0m[31m[1m>[22m[39m[90m 3 |[39m [36mimport[39m { createClient } [36mfrom[39m [32m'@/utils/supabase/client'[39m[33m;[39m[0m
[frontend] [0m [90m   |[39m [31m[1m^[22m[39m[0m
[frontend] [0m [90m 4 |[39m [36mimport[39m { [33mUser[39m } [36mfrom[39m [32m'@/utils/api'[39m[33m;[39m[0m
[frontend] [0m [90m 5 |[39m[0m
[frontend] [0m [90m 6 |[39m [90m/**[39m[0m
[frontend] 
[frontend] https://nextjs.org/docs/messages/module-not-found
[frontend] 
[frontend] Import trace for requested module:
[frontend] ./hooks/useAuth.tsx
[frontend] ./pages/_app.tsx
[frontend]  ‚®Ø ./src/hooks/useSupabaseAuth.ts:3:1
[frontend] Module not found: Can't resolve '@/utils/supabase/client'
[frontend] [0m [90m 1 |[39m [36mimport[39m { useEffect[33m,[39m useState } [36mfrom[39m [32m'react'[39m[33m;[39m[0m
[frontend] [0m [90m 2 |[39m [36mimport[39m { [33mUser[39m [36mas[39m [33mSupabaseUser[39m } [36mfrom[39m [32m'@supabase/supabase-js'[39m[33m;[39m[0m
[frontend] [0m[31m[1m>[22m[39m[90m 3 |[39m [36mimport[39m { createClient } [36mfrom[39m [32m'@/utils/supabase/client'[39m[33m;[39m[0m
[frontend] [0m [90m   |[39m [31m[1m^[22m[39m[0m
[frontend] [0m [90m 4 |[39m [36mimport[39m { [33mUser[39m } [36mfrom[39m [32m'@/utils/api'[39m[33m;[39m[0m
[frontend] [0m [90m 5 |[39m[0m
[frontend] [0m [90m 6 |[39m [90m/**[39m[0m
[frontend] 
[frontend] https://nextjs.org/docs/messages/module-not-found
[frontend] 
[frontend] Import trace for requested module:
[frontend] ./hooks/useAuth.tsx
[frontend] ./pages/_app.tsx
[frontend]  HEAD / 500 in 1366ms
[backend] [INFO] 10:39:48 Restarting: /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/server.ts has been modified
[backend] 10:39:48 [32minfo[39m: [32mReceived SIGTERM. Starting graceful shutdown...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mHTTP server closed.[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down PBCEx services...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down PriceFeedService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mPriceFeedService shutdown complete[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down PricesService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mPricesService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down CheckoutService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mCheckoutService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down EmailService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mEmailService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down VerifyService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mVerifyService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mShutting down FedexService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mFedexService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ All services shut down gracefully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] üîß Integration Status:
[backend]   ‚úÖ Configured: none
[backend]   üîß Missing integrations: SUPPRESSED (vendor placeholders enabled)
[backend]   üìù Note: Using mock implementations for development
[backend] üöÄ Phase-3 Features:
[backend]   üìä Phase: 1
[backend]   ‚õìÔ∏è  Onchain: DISABLED
[backend]   üèõÔ∏è  Vault Redemption: DISABLED
[backend]   üì¶ Fulfillment: JM
[backend]   üõ†Ô∏è  Development Mode: Vendor placeholders enabled
[backend] 10:39:48 [32minfo[39m: [32mDatabase pool initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mAPI documentation available at /api/docs[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing PBCEx services...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing NotificationService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mLocal SMTP email service initialized (MailDev)[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [33mwarn[39m: [33mTwilio not configured, SMS will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [33mwarn[39m: [33mIntercom not configured, support tickets will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mNotificationService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ NotificationService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing EmailService with Resend[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [33mwarn[39m: [33mResend not configured, email will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mEmailService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ EmailService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing VerifyService with Twilio Verify[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [33mwarn[39m: [33mTwilio Verify not fully configured, verification will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mVerifyService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ VerifyService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing FedexService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [33mwarn[39m: [33mFedEx not fully configured, service will be mocked[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mFedexService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ FedexService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing PricesService with CoinGecko[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mCoinGecko API request[39m {"service":"pbcex-api","version":"1.0.0","url":"/ping","correlationId":"5s4slzmwj"}
[backend] 10:39:48 [32minfo[39m: [32mCoinGecko API response[39m {"service":"pbcex-api","version":"1.0.0","status":200,"correlationId":"5s4slzmwj","duration":125}
[backend] 10:39:48 [32minfo[39m: [32mCoinGecko API connectivity verified[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mPricesService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ PricesService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing CheckoutService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mCheckoutService depends on PricesService for base price data[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mCheckoutService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ CheckoutService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing PriceFeedService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mInitializing mock price data[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mMock prices initialized[39m {"service":"pbcex-api","version":"1.0.0","count":8}
[backend] 10:39:48 [33mwarn[39m: [33mTradingView not configured, using mock prices[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mStarting price update loop[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mPriceFeedService initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32m‚úÖ PriceFeedService initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32müéâ All services initialized successfully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32müöÄ PBCEx API Server started[39m {"service":"pbcex-api","version":"1.0.0","port":4001,"environment":"development","nodeVersion":"v24.6.0","pid":171,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:3002","http://localhost:3003","http://localhost:3004","http://localhost:3005","http://127.0.0.1:3000"]}
[backend] 10:39:48 [32minfo[39m: [32müìä Integration Status:[39m {"service":"pbcex-api","version":"1.0.0","database":true,"redis":true,"plaid":false,"stripe":false,"sendgrid":false,"twilio":false,"intercom":false,"tradingView":false,"datadog":false}
[backend] 10:39:48 [32minfo[39m: [32müí° 7 integrations need configuration for full functionality[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:39:48 [32minfo[39m: [32mServer is listening[39m {"service":"pbcex-api","version":"1.0.0","address":{"address":"::","family":"IPv6","port":4001}}
[backend] [INFO] 10:40:02 Restarting: /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/server.ts has been modified
[backend] 10:40:02 [32minfo[39m: [32mReceived SIGTERM. Starting graceful shutdown...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mHTTP server closed.[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down PBCEx services...[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down PriceFeedService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mPriceFeedService shutdown complete[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down PricesService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mPricesService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down CheckoutService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mCheckoutService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down EmailService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mEmailService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down VerifyService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mVerifyService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mShutting down FedexService[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32mFedexService shut down[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] 10:40:02 [32minfo[39m: [32m‚úÖ All services shut down gracefully[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] üîß Integration Status:
[backend]   ‚úÖ Configured: none
[backend]   üîß Missing integrations: SUPPRESSED (vendor placeholders enabled)
[backend]   üìù Note: Using mock implementations for development
[backend] üöÄ Phase-3 Features:
[backend]   üìä Phase: 1
[backend]   ‚õìÔ∏è  Onchain: DISABLED
[backend]   üèõÔ∏è  Vault Redemption: DISABLED
[backend]   üì¶ Fulfillment: JM
[backend]   üõ†Ô∏è  Development Mode: Vendor placeholders enabled
[backend] 10:40:02 [32minfo[39m: [32mDatabase pool initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] [ERROR] 10:40:02 Error: Cannot find module 'ethers'
[backend] Require stack:
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/services/chainlinkPrice.ts
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/routes/priceOracleRoutes.ts
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/server.ts
[backend] [INFO] 10:40:22 Restarting: /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/routes/priceOracleRoutes.ts has been modified
[backend] üîß Integration Status:
[backend]   ‚úÖ Configured: none
[backend]   üîß Missing integrations: SUPPRESSED (vendor placeholders enabled)
[backend]   üìù Note: Using mock implementations for development
[backend] üöÄ Phase-3 Features:
[backend]   üìä Phase: 1
[backend]   ‚õìÔ∏è  Onchain: DISABLED
[backend]   üèõÔ∏è  Vault Redemption: DISABLED
[backend]   üì¶ Fulfillment: JM
[backend]   üõ†Ô∏è  Development Mode: Vendor placeholders enabled
[backend] 10:40:22 [32minfo[39m: [32mDatabase pool initialized[39m {"service":"pbcex-api","version":"1.0.0"}
[backend] [ERROR] 10:40:22 Error: Cannot find module 'ethers'
[backend] Require stack:
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/services/chainlinkPrice.ts
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/routes/priceOracleRoutes.ts
[backend] - /Users/ebraheimsalem/Documents/GitHub/abes-pbcex-workspace/backend/src/server.ts
