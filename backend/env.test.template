# Test Environment Configuration
# Copy to .env.test - this file is committed with only test/sandbox credentials

NODE_ENV=test
PORT=4001

# Test Database
DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/pbcex_test
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pbcex_test
DB_USER=test_user
DB_PASSWORD=test_pass
DB_POOL_SIZE=5
DB_CONNECT_TIMEOUT=5000

# Test JWT
JWT_SECRET=test-jwt-secret-for-testing-only-not-secure
JWT_EXPIRES_IN=24h

# Test Redis
REDIS_URL=redis://localhost:6379/1

# Feature Flags for Testing
PHASE=3
ENABLE_VAULT_REDEMPTION=true
ENABLE_ONCHAIN=false
FULFILLMENT_STRATEGY=JM

# Disable external services in tests
PLAID_CLIENT_ID=test_plaid
PLAID_SECRET=test_plaid_secret
PLAID_ENV=sandbox

# Mock API keys (non-functional)
PAXOS_API_KEY=test_paxos_key
PRIMETRUST_API_KEY=test_primetrust_key
ANCHORAGE_API_KEY=test_anchorage_key
JM_BULLION_API_KEY=test_jm_key
DILLON_GAGE_API_KEY=test_dg_key
FEDEX_API_KEY=test_fedex_key
STRIPE_SECRET_KEY=sk_test_testing_key
SENDGRID_API_KEY=test_sendgrid_key
TWILIO_ACCOUNT_SID=test_twilio_sid
TWILIO_AUTH_TOKEN=test_twilio_token

# Test logging
LOG_LEVEL=error
ENABLE_TEST_LOGS=false

# Test-specific settings
TEST_TIMEOUT=30000
JEST_TIMEOUT=30000
PARALLEL_TESTS=false

# A/B Testing
EXPERIMENTS_JSON={"onboarding_form_length":{"traffic":1.0,"variants":["A","B"]},"order_form_layout":{"traffic":0.5,"variants":["control","compact"]},"spread_hint_tooltip":{"traffic":0.8,"variants":["on","off"]}}
